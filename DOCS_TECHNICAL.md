# Пояснительная записка к проекту "RestaurantBooking"

## 1. Введение
Приложение "RestaurantBooking" предназначено для автоматизации процесса бронирования столиков в ресторанах. Оно решает задачи пользователей по поиску и бронированию, а также задачи владельцев бизнеса по управлению очередью и персоналом.

## 2. Архитектура приложения
Проект построен на архитектурном паттерне **MVVM (Model-View-ViewModel)** с использованием репозитория.

### 2.1 Слой данных (Model)
Используется библиотека **Room Persistence Library** для локального хранения данных.
*   **User.kt**: Описывает пользователя (id, имя, почта, роль, привязка к ресторану). Роли: `user`, `admin`, `superadmin`.
*   **Restaurant.kt**: Сущность ресторана (название, адрес, описание, количество доступных столов, ссылка на сайт).
*   **Booking.kt**: Информация о бронировании (кто забронировал, где, когда, во сколько и на сколько человек).
*   **Review.kt**: Сущность отзыва (текст, рейтинг 1-5, дата написания).

### 2.2 Слой управления данными (Repository)
*   **BookingRepository.kt**: Главный узел обработки данных. Он объединяет все DAO (Data Access Objects) и предоставляет ViewModel удобные методы. Здесь реализована логика проверки доступности мест при бронировании: если текущее количество броней на это время больше или равно `tableCount` ресторана, система не даст создать новую бронь.

### 2.3 Слой бизнес-логики (ViewModel)
*   **BookingViewModel.kt**: Работает через `viewModelScope` и корутины. Обеспечивает асинхронную подгрузку данных, чтобы интерфейс не "зависал" при обращениях к базе данных.

## 3. Описание пользовательского интерфейса (View)
*   **MainActivity.kt**: Стартовая точка. Проверяет наличие супер-админа в базе и предоставляет кнопки входа/регистрации.
*   **UserRestaurantsActivity.kt**: Главный экран пользователя. Отображает горизонтальный список текущих броней (с возможностью отмены) и вертикальный список ресторанов.
*   **RestaurantDetailsActivity.kt**: Экран деталей. Здесь пользователь читает отзывы, видит адрес и нажимает на кнопку "Забронировать".
*   **BookingActivity.kt**: Экран самой брони. Используются стандартные диалоги выбора даты (`DatePicker`) и времени (`TimePicker`) для удобства ввода.
*   **ManageAdminsActivity.kt**: Экран управления персоналом для супер-админа. Можно редактировать логины/пароли админов ресторанов.

## 4. Особенности реализации
1.  **Проверка доступности**: При каждом бронировании система считает количество уже существующих записей в БД на конкретную дату и время для выбранного ресторана.
2.  **Безопасность**: Доступ к разным экранам ограничен ролями. Например, только `superadmin` видит кнопку добавления нового ресторана.
3.  **Интерактивность**: Использование `ListAdapter` и `DiffUtil` позволяет спискам обновляться плавно и быстро при удалении или добавлении элементов.

## 5. Вывод
Данный проект демонстрирует владение современными инструментами Android-разработки: работа с локальными БД, управление состояниями через ViewModel и создание сложного многоролевого интерфейса.
